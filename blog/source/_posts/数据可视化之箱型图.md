---
title: 数据可视化之箱型图
date: 2019-09-17 10:43:59
tags: [数据分析,可视化]
---

#### 箱型图

​	箱线图（Boxplot）也称箱须图（Box-whisker Plot），它是**用一组数据中的最小值、第一四分位数、中位数、第三四分位数和最大值来反映数据分布的中心位置和散布范围，可以粗略地看出数据是否具有对称性**。通过**将多组数据的箱线图画在同一坐标上，则可以清晰地显示各组数据的分布差异**，为发现问题、改进流程提供线索。

![](https://github.com/AnchoretY/images/blob/master/blog/标准箱型图.png?raw=true)

#### 箱型图有哪些作用呢？

**1.为了反映原始数据的分布情况，比如数据的聚散情况和偏态**

![](https://github.com/AnchoretY/images/blob/master/blog/不同分布的箱型图.png?raw=true)

​	从图中我们可以直观地看出，**箱形图的中位数和上四分位数的间距比较窄的话，对应曲线图，这个间距内的数据比较集中**，还有就是**箱形图的上（下）边缘比较长的话，对应曲线图，尾巴就比较长**。

2.异常值检测，在上下边缘之外的一般认为是异常值(这个和正太分布有关)

3.可以直观的比较多组数据

​	![](https://github.com/AnchoretY/images/blob/master/blog/多组数据比较箱型图实例.png?raw=true)

从这图我们可以很直观地看出以下信息：
1.各科成绩中，英语和西方经济学的**平均成绩比较高**，而统计学和基础会计学的平均成绩比较低。（用中位数来衡量整体情况比较稳定）

2.英语、市场营销学、西方经济学、计算机应用基础和财务管理成绩**分布比较集中，因为箱子比较短**。而经济数学、基础会计学和统计学成绩比较分散，我们可以对照考试成绩数据看看也可以证实。

3.从各个箱形图的中位数和上下四位数的间距也可以看出，**英语和市场营销学的成绩分布是非常的对称，而统计学呢？非常的不平衡，大部分数据都分布在70到85(中位数到上四分位数)分以上。**同样，也可以从成绩单里的数据证实

4**.在计算机应用基础对应的箱形图出现了个异常点**，我们回去看看成绩单，计算机那一栏，出现了个计算机大牛（真希望是我），考了95分，比第二名多了10分。而其他同学的成绩整体在80分左右。

5。其实我们也可以从中得知，**用平均值去衡量整体的情况有时很不合理，用中位数比较稳定，因为中位数不太会收到极值的影响，而平均值则受极值的影响很大。**

#### 如何做箱型图

​	**用到的主要模块：matplotlib,pandas,numpy**

​	**输入数据格式：单个数值列表**，例如[1,3,1,5,4]

​	**核心参数:**

> x:输入数据一列数据或者一个列的数组
>
> labels:各个箱型子图的标签
>
> whis:上下边缘强制定义，决定了哪部分部署被定义为异常数据，默认值为1.5。上边缘：第一和第三个四分位数。也就是说，IQR是四分位范围(' Q3-Q1 ')，上边缘须将延伸至最后一个数据小于' Q3 + whis*IQR ')。例如上四分位数为70，下四分位数为10，那么上边缘值为70+1.5\*(70-10)=160

##### 实战

~~~python
plt.boxplot(x=[df[['parameters_max_len']].values,df[df['label']==0]['parameters_max_len'].values,df[df['label']==1]['parameters_max_len'].values],labels=['all sample','normal sample','black sample'],whis=2)
plt.show()
~~~

![](https://github.com/AnchoretY/images/blob/master/blog/箱型图实例.png?raw=true)

